var feedbackButton=document.querySelector(".location__feedback-button"),feedbackFormOver=document.querySelector(".feedback-form-overlay"),feedbackForm=document.querySelector(".feedback-form"),feedbackCloseButton=feedbackForm.querySelector(".feedback-form__close-button"),userName=feedbackForm.querySelector("[name=username]"),userMail=feedbackForm.querySelector("[name=useremail]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackFormOver.classList.add("feedback-form-show"),feedbackForm.classList.add("feedback-form-animation"),storage?(userName.value=storage,userMail.focus()):userName.focus()}),feedbackCloseButton.addEventListener("click",function(e){e.preventDefault(),feedbackFormOver.classList.remove("feedback-form-show"),feedbackForm.classList.remove("feedback-form-error"),userName.classList.remove("feedback-input-error"),userMail.classList.remove("feedback-input-error")}),userName.onfocus=function(){userName.classList.contains("feedback-input-error")&&userName.classList.remove("feedback-input-error")},userMail.onfocus=function(){userMail.classList.contains("feedback-input-error")&&userMail.classList.remove("feedback-input-error")},feedbackForm.addEventListener("submit",function(e){userName.value&&userMail.value||(e.preventDefault(),feedbackForm.classList.remove("feedback-form-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("feedback-form-error")),userName.value||(userName.classList.remove("feedback-input-error"),userName.classList.add("feedback-input-error")),userMail.value?isStorageSupport&&localStorage.setItem("userName",userName.value):(userMail.classList.remove("feedback-input-error"),userMail.classList.add("feedback-input-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackFormOver.classList.contains("feedback-form-show")&&(e.preventDefault(),feedbackFormOver.classList.remove("feedback-form-show"),feedbackForm.classList.remove("feedback-form-error"),userName.classList.remove("feedback-input-error"),userMail.classList.remove("feedback-input-error"))});